<div class="author-list">
  <app-page-title icon="fas fa-user-tie" main="Author Record" sub="Bookstore Records"></app-page-title>

  <form [formGroup]="authorForm">
    <input type="hidden" class="form-control" formControlName="id">
    <div class="row">

      <div class="col-sm-12">
        <label>Name:</label>
        <input type="text" class="form-control" formControlName="name" placeholder="Input a name...">
        <div *ngIf="authorForm.touched && authorForm.get('name')?.hasError('required')" class="text-danger">
          Name is required
        </div>
      </div>

      <div class="col-sm-12">
        <label>Email:</label>
        <input type="email" class="form-control" formControlName="email" placeholder="Input an email...">
        <div *ngIf="authorForm.touched && authorForm.get('email')?.hasError('required')" class="text-danger">
          Email is required
        </div>
      </div>

    </div>

    <div class="buttons">
      <button class="btn  btn-primary" (click)="saveOrUpdate()" [disabled]="authorForm.invalid">
        <i class="fas fa-check"></i>
        Save
      </button>
      <button class="btn  btn-secondary ml-2" (click)="reset()">
        <i class="fas fa-times"></i>
        Cancel
      </button>
    </div>
  </form>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col" class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let author of authors">
        <td scope="row" class="align-middle">{{author.id}}</td>
        <td scope="row" class="align-middle">{{author.name}}</td>
        <td scope="row" class="align-middle">{{author.email}}</td>
        <td class="d-flex justify-content-center align-items-center">
          <button class="btn btn-outline text-success mr-2" (click)="loadAuthor(author)">
            <i class="fas fa-pen"></i>
          </button>
          <button class="btn btn-outline text-danger" (click)="delete(author)">
            <i class="fas fa-trash"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-center" *ngIf="loading$ | async">
    <div class="spinner-grow text-primary"></div>
    <div class="spinner-grow text-success"></div>
    <div class="spinner-grow text-danger"></div>
    <div class="spinner-grow text-warning"></div>
  </div>

</div>