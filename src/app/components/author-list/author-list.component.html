<div class="author-list">
  <form [formGroup]="authorForm">
    <input type="hidden" class="form-control" formControlName="id">
    <div class="row">

      <div class="col-sm-12">
        <label>Name:</label>
        <input type="text" class="form-control" formControlName="name" placeholder="Input a name...">
        <div *ngIf="authorForm.touched && authorForm.get('name')?.hasError('required')" class="text-danger">
          Name is required
        </div>
      </div>

      <div class="col-sm-12">
        <label>Email:</label>
        <input type="text" class="form-control" formControlName="email" placeholder="Input an email...">
        <div *ngIf="authorForm.touched && authorForm.get('email')?.hasError('required')" class="text-danger">
          Email is required
        </div>
      </div>

    </div>

    <button class="btn  btn-primary" (click)="save()" [disabled]="authorForm.invalid">Save</button>
    <button class="btn  btn-secondary ml-2" (click)="reset()">Cancel</button>
    <hr>
  </form>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let author of categories">
        <td scope="row">{{author.id}}</td>
        <td scope="row">{{author.name}}</td>
        <td scope="row">{{author.email}}</td>
        <td scope="row"></td>
        <td d-flex justify-content-center>
          <button class="btn btn-warning mr-2" (click)="update(author)">
            <i class="fas fa-pen"></i>
          </button>
          <button class="btn btn-danger" (click)="delete(author)">
            <i class="fas fa-trash"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-center" *ngIf="loading$ | async">
    <div class="spinner-grow text-primary"></div>
    <div class="spinner-grow text-success"></div>
    <div class="spinner-grow text-danger"></div>
    <div class="spinner-grow text-warning"></div>
  </div>

</div>
